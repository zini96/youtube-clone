{"ast":null,"code":"var _jsxFileName = \"D:\\\\boilerplate-mern-stack-master\\\\client\\\\src\\\\components\\\\views\\\\LandingPage\\\\Sections\\\\SearchData.js\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Card, Row, Col } from \"antd\";\nimport SearchVideo from \"../../NavBar/Sections/SearchVideo\";\nconst {\n  Meta\n} = Card;\n\nfunction SearchData() {\n  const [SearchItem, setSearchItem] = useState(\"\");\n  useEffect(() => {\n    commonAxios();\n  }, []); //더 보기에 두 번 들어가기 때문에 따로 분리\n\n  const commonAxios = () => {\n    //post에 info값 넣을 것\n    axios.post(\"/api/video/searchvideo\").then(response => {\n      if (response.data.success) {\n        // console.log(response.data);\n        if (showMore) {\n          setDatas([...Datas, ...response.data.videoInfo]);\n        } else {\n          setDatas(response.data.videoInfo);\n        }\n\n        setLimitImage(response.data.limitImage);\n      } else {\n        alert(\"정보를 가져오는데 실패했습니다.\");\n      }\n    });\n  };\n\n  const updateSearchItem = newSearchItem => {\n    let body = {\n      searchItem: newSearchItem\n    };\n    setStart(0);\n    setSearchItem(newSearchItem);\n    commonAxios(body);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      margin: \"0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"DB\\uC5D0 \\uC800\\uC7A5\\uD55C \\uAC70 \\uD655\\uC778\\uD558\\uAE30\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      margin: \"1rem auto\",\n      width: \"65%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchVideo, {\n    refreshFunction: updateSearchItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), \" //\\uCD94\\uAC00\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"85%\",\n      margin: \"1rem auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: [20, 20],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, renderCard)), LimitImage >= End && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    style: {},\n    onClick: showMoreData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"\\uB354 \\uBCF4\\uAE30\")));\n}\n\nexport default SearchData;","map":{"version":3,"sources":["D:/boilerplate-mern-stack-master/client/src/components/views/LandingPage/Sections/SearchData.js"],"names":["axios","React","useEffect","useState","Card","Row","Col","SearchVideo","Meta","SearchData","SearchItem","setSearchItem","commonAxios","post","then","response","data","success","showMore","setDatas","Datas","videoInfo","setLimitImage","limitImage","alert","updateSearchItem","newSearchItem","body","searchItem","setStart","width","margin","textAlign","display","justifyContent","renderCard","LimitImage","End","showMoreData"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Card, Row, Col } from \"antd\";\r\nimport SearchVideo from \"../../NavBar/Sections/SearchVideo\";\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction SearchData() {\r\n    const [SearchItem, setSearchItem] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n      commonAxios();\r\n    }, []);\r\n  \r\n    //더 보기에 두 번 들어가기 때문에 따로 분리\r\n    const commonAxios = () => {\r\n      //post에 info값 넣을 것\r\n      axios.post(\"/api/video/searchvideo\").then((response) => {\r\n        if (response.data.success) {\r\n          // console.log(response.data);\r\n  \r\n          if (showMore) {\r\n            setDatas([...Datas, ...response.data.videoInfo]);\r\n          } else {\r\n            setDatas(response.data.videoInfo);\r\n          }\r\n          setLimitImage(response.data.limitImage);\r\n        } else {\r\n          alert(\"정보를 가져오는데 실패했습니다.\");\r\n        }\r\n      });\r\n    };\r\n  \r\n   \r\n    const updateSearchItem = (newSearchItem) => {\r\n      let body = {\r\n        searchItem: newSearchItem,\r\n      };\r\n  \r\n      setStart(0);\r\n      setSearchItem(newSearchItem);\r\n      commonAxios(body);\r\n    };\r\n  \r\n    return (\r\n      <div style={{ width: \"100%\", margin: \"0\" }}>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <h2 style={{ textAlign: \"center\" }}>DB에 저장한 거 확인하기</h2>\r\n  \r\n        {/* search */}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n            margin: \"1rem auto\",\r\n            width: \"65%\",\r\n          }}\r\n        >\r\n          <SearchVideo refreshFunction={updateSearchItem} /> //추가\r\n        </div>\r\n  \r\n        {/* card */}\r\n        <div style={{ width: \"85%\", margin: \"1rem auto\" }}>\r\n          <Row gutter={[20, 20]}>{renderCard}</Row>\r\n        </div>\r\n  \r\n        {LimitImage >= End && (\r\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <button style={{}} onClick={showMoreData}>\r\n              더 보기\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  \r\n}\r\n\r\nexport default SearchData;"]},"metadata":{},"sourceType":"module"}