{"ast":null,"code":"var _jsxFileName = \"D:\\\\boilerplate-mern-stack-master\\\\client\\\\src\\\\components\\\\views\\\\VideoDetailPage\\\\Section\\\\SingleComment.js\";\nimport React, { useState } from 'react';\nimport { Comment, Avatar, Button, Input } from 'antd';\nimport Axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport LikeDislikes from './LikeDislikes';\nconst {\n  TextArea\n} = Input;\n\nfunction SingleComment(props) {\n  const [OpenReply, setOpenReply] = useState(false);\n  const [CommentValue, setCommentValue] = useState(\"\");\n  const user = useSelector(state => state.user);\n\n  const onClickReplyOpen = () => {\n    setOpenReply(!OpenReply);\n  };\n\n  const actions = [/*#__PURE__*/React.createElement(LikeDislikes, {\n    userId: localStorage.getItem('userId'),\n    commentId: props.comment._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClickReplyOpen,\n    key: \"comment-basic-reply-to\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, \"Reply to\")];\n\n  const onHandleChange = e => {\n    setCommentValue(e.currentTarget.value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const variables = {\n      content: CommentValue,\n      writer: user.userData._id,\n      postId: props.postId,\n      responseTo: props.comment._id\n    };\n    Axios.post('/api/comment/saveComment', variables).then(response => {\n      if (response.data.success) {\n        console.log(response.data.result);\n        setCommentValue(\"\");\n        setOpenReply(false);\n        props.refreshFunction(response.data.result);\n      } else {\n        alert('코멘트 등록에 실패했습니다.');\n      }\n    });\n  }; // const commentDeleteButton = user.userData._id === localStorage.getItem('userId') && <CommentDelete commentId={props.comment._id}/>\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, props.comment.writer && /*#__PURE__*/React.createElement(Comment, {\n    style: {\n      backgroundColor: 'red'\n    },\n    actions: actions,\n    author: props.comment.writer.name,\n    avatar: /*#__PURE__*/React.createElement(Avatar, {\n      src: props.comment.writer.image,\n      alt: \"avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 29\n      }\n    }),\n    content: /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 30\n      }\n    }, props.comment.content),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), OpenReply && /*#__PURE__*/React.createElement(\"form\", {\n    style: {\n      display: 'flex'\n    },\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    style: {\n      width: '100%',\n      borderRadius: '5px'\n    },\n    onChange: onHandleChange,\n    value: CommentValue,\n    placeholder: \"\\uCF54\\uBA58\\uD2B8\\uB97C \\uC791\\uC131\\uD574 \\uC8FC\\uC138\\uC694\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: '20%',\n      height: '52px'\n    },\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Submit\")));\n}\n\nexport default SingleComment;","map":{"version":3,"sources":["D:/boilerplate-mern-stack-master/client/src/components/views/VideoDetailPage/Section/SingleComment.js"],"names":["React","useState","Comment","Avatar","Button","Input","Axios","useSelector","LikeDislikes","TextArea","SingleComment","props","OpenReply","setOpenReply","CommentValue","setCommentValue","user","state","onClickReplyOpen","actions","localStorage","getItem","comment","_id","onHandleChange","e","currentTarget","value","onSubmit","preventDefault","variables","content","writer","userData","postId","responseTo","post","then","response","data","success","console","log","result","refreshFunction","alert","backgroundColor","name","image","display","width","borderRadius","height"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\r\nimport {Comment, Avatar, Button, Input} from 'antd';\r\nimport Axios from 'axios';\r\nimport {useSelector} from 'react-redux'\r\nimport LikeDislikes from './LikeDislikes';\r\n\r\n\r\nconst {TextArea} = Input;\r\n\r\nfunction SingleComment(props) {\r\n    const [OpenReply, setOpenReply] = useState(false)\r\n    const [CommentValue, setCommentValue] = useState(\"\")\r\n\r\n    const user = useSelector(state => state.user);\r\n\r\n\r\n    const onClickReplyOpen = ()=>{\r\n        setOpenReply(!OpenReply)\r\n    }\r\n\r\n    const actions = [\r\n        <LikeDislikes userId={localStorage.getItem('userId')} commentId={props.comment._id}/>,\r\n        <span onClick={onClickReplyOpen} key=\"comment-basic-reply-to\">Reply to</span>\r\n    ]\r\n\r\n    const onHandleChange = (e)=>{\r\n        setCommentValue(e.currentTarget.value)\r\n    }\r\n\r\n    const onSubmit = (e)=>{\r\n        e.preventDefault();\r\n\r\n        const variables = {\r\n            content: CommentValue,\r\n            writer: user.userData._id,\r\n            postId: props.postId,\r\n            responseTo: props.comment._id\r\n        }\r\n\r\n        Axios.post('/api/comment/saveComment', variables)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    console.log(response.data.result)\r\n                    setCommentValue(\"\")\r\n                    setOpenReply(false)\r\n                    props.refreshFunction(response.data.result)\r\n                } else {\r\n                    alert('코멘트 등록에 실패했습니다.')\r\n                }\r\n            })\r\n    }\r\n\r\n    // const commentDeleteButton = user.userData._id === localStorage.getItem('userId') && <CommentDelete commentId={props.comment._id}/>\r\n\r\n    return (\r\n        <div>\r\n            {props.comment.writer &&\r\n                <Comment\r\n                style={{backgroundColor:'red'}}\r\n                    actions={actions}\r\n                    author={props.comment.writer.name}\r\n                    avatar={<Avatar src={props.comment.writer.image} alt=\"avatar\" />}\r\n                    content={<p>{props.comment.content}</p>}\r\n                />\r\n            }\r\n            {OpenReply &&\r\n                <form style={{ display: 'flex' }} onSubmit={onSubmit}>\r\n                    <textarea\r\n                        style={{ width: '100%', borderRadius: '5px' }}\r\n                        onChange={onHandleChange}\r\n                        value={CommentValue}\r\n                        placeholder=\"코멘트를 작성해 주세요\"\r\n                    />\r\n                    <br />\r\n                    <Button style={{ width: '20%', height: '52px' }} onClick={onSubmit}>Submit</Button>\r\n                </form>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SingleComment;"]},"metadata":{},"sourceType":"module"}