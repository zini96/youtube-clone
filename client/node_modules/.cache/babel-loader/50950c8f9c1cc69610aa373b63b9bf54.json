{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useMemo, useRef } from \"react\";\nimport { useDir } from \"../Dir\";\nimport { DEFAULT_KEYBOARD_MOVEMENT, DEFAULT_LTR_KEYBOARD_MOVEMENT, DEFAULT_RTL_KEYBOARD_MOVEMENT, KeyboardMovementContextProvider } from \"./movementContext\";\nimport { getSearchText } from \"./utils\";\n/**\n * @example\n * Main Usage\n * ```tsx\n * function Example() {\n *   return (\n *     <KeyboardMovementProvider>\n *       <CustomKeyboardFocusWidget />\n *     </KeyboardMovementProvider>\n *   );\n * }\n *\n * function CustomKeyboardFocusWidget() {\n *   const { focusIndex: _focusIndex, ...eventHandlers } = useKeyboardFocus();\n *   return (\n *     <div {...eventHandlers}>\n *       <FocusableChild />\n *       <FocusableChild />\n *       <FocusableChild />\n *       <FocusableChild />\n *     </div>\n *   );\n * }\n *\n * function FocusableChild() {\n *   const refCallback = useKeyboardFocusableElement()\n *\n *   return <div role=\"menuitem\" tabIndex={-1} ref={refCallback}>Content</div>;\n * }\n * ```\n *\n * @remarks \\@since 5.0.0\n */\n\nexport function KeyboardMovementProvider(_a) {\n  var children = _a.children,\n      _b = _a.loopable,\n      loopable = _b === void 0 ? false : _b,\n      _c = _a.searchable,\n      searchable = _c === void 0 ? false : _c,\n      _d = _a.horizontal,\n      horizontal = _d === void 0 ? false : _d,\n      _e = _a.includeDisabled,\n      includeDisabled = _e === void 0 ? false : _e,\n      propIncrementKeys = _a.incrementKeys,\n      propDecrementKeys = _a.decrementKeys,\n      propJumpToFirstKeys = _a.jumpToFirstKeys,\n      propJumpToLastKeys = _a.jumpToLastKeys;\n  var isRTL = useDir().dir === \"rtl\";\n  var defaults;\n\n  if (horizontal) {\n    defaults = isRTL ? DEFAULT_RTL_KEYBOARD_MOVEMENT : DEFAULT_LTR_KEYBOARD_MOVEMENT;\n  } else {\n    defaults = DEFAULT_KEYBOARD_MOVEMENT;\n  }\n\n  var incrementKeys = propIncrementKeys || defaults.incrementKeys;\n  var decrementKeys = propDecrementKeys || defaults.decrementKeys;\n  var jumpToFirstKeys = propJumpToFirstKeys || defaults.jumpToFirstKeys;\n  var jumpToLastKeys = propJumpToLastKeys || defaults.jumpToLastKeys;\n  var watching = useRef([]);\n  var configuration = {\n    incrementKeys: incrementKeys,\n    decrementKeys: decrementKeys,\n    jumpToFirstKeys: jumpToFirstKeys,\n    jumpToLastKeys: jumpToLastKeys\n  };\n  var config = useRef(configuration);\n  config.current = configuration;\n  var value = useMemo(function () {\n    return {\n      attach: function (element) {\n        watching.current.push({\n          element: element,\n          content: getSearchText(element, searchable)\n        });\n      },\n      detach: function (element) {\n        watching.current = watching.current.filter(function (cache) {\n          return cache.element !== element;\n        });\n      },\n      watching: watching,\n      config: config,\n      loopable: loopable,\n      searchable: searchable,\n      horizontal: horizontal,\n      includeDisabled: includeDisabled\n    };\n  }, [horizontal, includeDisabled, loopable, searchable]);\n  return _jsx(KeyboardMovementContextProvider, __assign({\n    value: value\n  }, {\n    children: children\n  }));\n}","map":{"version":3,"sources":["../../src/keyboardMovement/KeyboardMovementProvider.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useMemo, useRef } from \"react\";\nimport { useDir } from \"../Dir\";\nimport { DEFAULT_KEYBOARD_MOVEMENT, DEFAULT_LTR_KEYBOARD_MOVEMENT, DEFAULT_RTL_KEYBOARD_MOVEMENT, KeyboardMovementContextProvider, } from \"./movementContext\";\nimport { getSearchText } from \"./utils\";\n/**\n * @example\n * Main Usage\n * ```tsx\n * function Example() {\n *   return (\n *     <KeyboardMovementProvider>\n *       <CustomKeyboardFocusWidget />\n *     </KeyboardMovementProvider>\n *   );\n * }\n *\n * function CustomKeyboardFocusWidget() {\n *   const { focusIndex: _focusIndex, ...eventHandlers } = useKeyboardFocus();\n *   return (\n *     <div {...eventHandlers}>\n *       <FocusableChild />\n *       <FocusableChild />\n *       <FocusableChild />\n *       <FocusableChild />\n *     </div>\n *   );\n * }\n *\n * function FocusableChild() {\n *   const refCallback = useKeyboardFocusableElement()\n *\n *   return <div role=\"menuitem\" tabIndex={-1} ref={refCallback}>Content</div>;\n * }\n * ```\n *\n * @remarks \\@since 5.0.0\n */\nexport function KeyboardMovementProvider(_a) {\n    var children = _a.children, _b = _a.loopable, loopable = _b === void 0 ? false : _b, _c = _a.searchable, searchable = _c === void 0 ? false : _c, _d = _a.horizontal, horizontal = _d === void 0 ? false : _d, _e = _a.includeDisabled, includeDisabled = _e === void 0 ? false : _e, propIncrementKeys = _a.incrementKeys, propDecrementKeys = _a.decrementKeys, propJumpToFirstKeys = _a.jumpToFirstKeys, propJumpToLastKeys = _a.jumpToLastKeys;\n    var isRTL = useDir().dir === \"rtl\";\n    var defaults;\n    if (horizontal) {\n        defaults = isRTL\n            ? DEFAULT_RTL_KEYBOARD_MOVEMENT\n            : DEFAULT_LTR_KEYBOARD_MOVEMENT;\n    }\n    else {\n        defaults = DEFAULT_KEYBOARD_MOVEMENT;\n    }\n    var incrementKeys = propIncrementKeys || defaults.incrementKeys;\n    var decrementKeys = propDecrementKeys || defaults.decrementKeys;\n    var jumpToFirstKeys = propJumpToFirstKeys || defaults.jumpToFirstKeys;\n    var jumpToLastKeys = propJumpToLastKeys || defaults.jumpToLastKeys;\n    var watching = useRef([]);\n    var configuration = {\n        incrementKeys: incrementKeys,\n        decrementKeys: decrementKeys,\n        jumpToFirstKeys: jumpToFirstKeys,\n        jumpToLastKeys: jumpToLastKeys,\n    };\n    var config = useRef(configuration);\n    config.current = configuration;\n    var value = useMemo(function () { return ({\n        attach: function (element) {\n            watching.current.push({\n                element: element,\n                content: getSearchText(element, searchable),\n            });\n        },\n        detach: function (element) {\n            watching.current = watching.current.filter(function (cache) { return cache.element !== element; });\n        },\n        watching: watching,\n        config: config,\n        loopable: loopable,\n        searchable: searchable,\n        horizontal: horizontal,\n        includeDisabled: includeDisabled,\n    }); }, [horizontal, includeDisabled, loopable, searchable]);\n    return (_jsx(KeyboardMovementContextProvider, __assign({ value: value }, { children: children })));\n}\n//# sourceMappingURL=KeyboardMovementProvider.js.map"]},"metadata":{},"sourceType":"module"}